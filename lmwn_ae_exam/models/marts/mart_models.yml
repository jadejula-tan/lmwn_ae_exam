version: 2

models:
  - name: report_campaign_effectiveness_report
    description: "Report to evaluate the performance of advertising campaigns across digital platforms and understand campaign performance in terms of user engagement, cost efficiency, and resulting transactions."
    columns:
      - name: campaign_id
        data_type: STRING
      - name: campaign_name
        data_type: STRING
      - name: campaign_start_date
        data_type: DATE
      - name: campaign_end_date
        data_type: DATE
      - name: campaign_type
        data_type: STRING
      - name: campaign_objective
        data_type: STRING
      - name: campaign_channel
        data_type: STRING
      - name: campaign_budget
        data_type: DOUBLE
      - name: cost_model
        data_type: STRING
      - name: targeting_strategy
        data_type: STRING
      - name: campaign_interaction_date
        data_type: DATE
      - name: total_interactions
        data_type: BIGINT
      - name: total_clicks
        data_type: HUGEINT
      - name: total_impressions
        data_type: HUGEINT
      - name: total_conversions
        data_type: HUGEINT
      - name: average_cost_per_click
        data_type: DOUBLE
      - name: average_cost_per_impression
        data_type: DOUBLE
      - name: average_cost_per_conversion
        data_type: DOUBLE
      - name: average_revenue_per_conversion
        data_type: DOUBLE
      - name: total_revenue
        data_type: DOUBLE
      - name: total_ad_cost
        data_type: DOUBLE
      - name: return_on_ad_spend
        data_type: DOUBLE
      - name: average_cost_per_new_customer
        data_type: DOUBLE
      - name: average_session_duration
        description: "Average duration of sessions for the campaign. However, this will show now, as there is no matching session_id"
        data_type: INTERVAL
      - name: total_customers_with_completed_orders
        data_type: BIGINT
  - name: report_customer_acquisition_report
    description: "Report to understand how successful each campaign is at acquiring new customers and how those customers behave post-acquisition."
    columns:
      - name: campaign_id
        data_type: STRING
      - name: campaign_name
        data_type: STRING
      - name: campaign_platform
        data_type: STRING
      - name: total_ad_cost
        data_type: DOUBLE
      - name: total_new_customers
        data_type: BIGINT
      - name: average_cost_per_new_customer
        data_type: DOUBLE
      - name: total_orders
        data_type: HUGEINT
      - name: total_completed_repeat_orders
        data_type: HUGEINT
      - name: avg_purchase_amount
        data_type: DOUBLE
      - name: avg_completed_purchased_amount
        data_type: DOUBLE
      - name: avg_time_to_first_order
        data_type: INTERVAL
      - name: avg_active_time_after_first_order
        description: "Average active time on app after first order. However, this will show now, as there is no matching session_id"
        data_type: INTERVAL
  - name: report_retargeting_performance_report
    description: "Report to evaluate retargeting campaigns that aim to bring back previous or inactive customers and see if the strategy effectively re-engages past users."
    columns:
      - name: campaign_id
        data_type: STRING
      - name: campaign_name
        data_type: STRING
      - name: campaign_objective
        data_type: STRING
      - name: targeting_strategy
        data_type: STRING
      - name: retargeted_customers
        data_type: BIGINT
      - name: retargeted_customers_with_recurring_orders
        data_type: BIGINT
      - name: return_to_recurring_customer_ratio
        data_type: DOUBLE
      - name: total_purchase_amount
        data_type: DOUBLE
      - name: retargeted_customers_with_reorder_within_7_days
        data_type: BIGINT
      - name: retargeted_customers_with_reorder_within_15_days
        data_type: BIGINT
      - name: retargeted_customers_with_reorder_within_30_days
        data_type: BIGINT
      - name: avg_day_between_original_and_return_order
        data_type: DOUBLE
  - name: report_driver_performance_report
    description: "Assess the effectiveness and reliability of delivery drivers to support workforce evaluation and operational optimization."
    columns:
      - name: driver_id
        data_type: STRING
        tests:
          - unique
          - not_null
      - name: vehicle_type
        data_type: STRING
      - name: region
        data_type: STRING
      - name: total_tasks
        data_type: BIGINT
      - name: total_completed_tasks
        data_type: BIGINT
      - name: late_completed_tasks
        data_type: BIGINT
      - name: avg_delivery_minutes
        data_type: DOUBLE
      - name: avg_time_to_accept_minutes
        data_type: DOUBLE
      - name: completion_rate
        data_type: DOUBLE
      - name: late_completion_rate
        data_type: DOUBLE
      - name: total_tickets
        data_type: BIGINT
      - name: count_rude_feedback
        data_type: BIGINT
      - name: count_no_mask_feedback
        data_type: BIGINT
      - name: average_csat_score
        data_type: DOUBLE
      - name: average_csat_score_rude
        data_type: DOUBLE
      - name: average_csat_score_no_mask
        data_type: DOUBLE
  - name: report_delivery_zone_heatmap_report
    description: "Analyze delivery zones to identify high-demand areas and optimize resource allocation."
    columns:
    - name: region
      data_type: STRING
    - name: total_drivers
      data_type: BIGINT
    - name: total_active_drivers
      data_type: BIGINT
    - name: total_orders
      data_type: BIGINT
    - name: total_completed_orders
      data_type: BIGINT
    - name: total_cancelled_orders
      data_type: BIGINT
    - name: total_late_deliveries
      data_type: BIGINT
    - name: avg_delivery_time_minutes
      data_type: DOUBLE
    - name: avg_delivery_distance_km
      data_type: DOUBLE
    - name: completion_rate
      data_type: DOUBLE
    - name: cancellation_rate
      data_type: DOUBLE
    - name: late_delivery_rate
      data_type: DOUBLE
    - name: supply_demand_ratio
      data_type: DOUBLE
  - name: report_driver_incentive_impact_report
    description: "Measure whether incentive programs for drivers (e.g., bonuses) lead to improved performance or just higher costs."
    columns:
      - name: incentive_program
        data_type: STRING
      - name: total_drivers
        data_type: BIGINT
      - name: bonus_qualified_drivers
        data_type: BIGINT
      - name: total_orders
        data_type: BIGINT
      - name: completed_orders
        data_type: BIGINT
      - name: completed_order_rate
        data_type: DOUBLE
      - name: average_delivery_time_minutes
        data_type: DOUBLE
      - name: average_time_to_accept_minutes
        data_type: DOUBLE
      - name: driver_satisfaction_rate
        description: "Driver satisfaction rate based on number of bonus qualified drivers vs. total participating drivers."
        data_type: DOUBLE
      - name: average_bonus_qualified_amount
        data_type: DOUBLE
      - name: bonus_to_revenue_ratio
        description: "Ratio of total bonus paid to total revenue generated by drivers. Would be better if we could compare the percentage LMWN gets from each completed order with the total bonus payout, but the info is not available."
        data_type: DOUBLE
  - name: report_complaint_summary_dashboard
    description: "High-level overview report of all customer complaints across the platform to prioritize problem areas and improve response processes."
    columns:
      - name: month
        data_type: STRING
      - name: total_tickets
        data_type: BIGINT
      - name: total_unresolved_tickets
        data_type: BIGINT
      - name: ticket_compensated_tickets
        data_type: BIGINT
      - name: total_compensation_amount
        data_type: HUGEINT
      - name: unresolved_ticket_ratio
        data_type: DOUBLE
      - name: avg_resolution_time_minutes
        data_type: DOUBLE
      - name: top_issue_type_1
        data_type: STRING
      - name: top_issue_type_2
        data_type: STRING
      - name: top_issue_type_3
        data_type: STRING
      - name: top_sub_issue_type_1
        data_type: STRING
      - name: top_sub_issue_type_2
        data_type: STRING
      - name: top_sub_issue_type_3
        data_type: STRING